(()=>{var e={10:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(537),a=i.n(n),s=i(645),r=i.n(s)()(a());r.push([e.id,".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n","",{version:3,sources:["webpack://./src/framework/view/abstract-view.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF",sourcesContent:[".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n"],sourceRoot:""}]);const o=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(r[c]=!0)}for(var d=0;d<e.length;d++){var f=[].concat(e[d]);n&&r[f[0]]||(void 0!==s&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=s),i&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=i):f[2]=i),a&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=a):f[4]="".concat(a)),t.push(f))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),s="/*# ".concat(a," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},484:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,i="millisecond",n="second",a="minute",s="hour",r="day",o="week",c="month",d="quarter",f="year",l="date",p="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}},m=function(e,t,i){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(i)+e},v={s:m,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),n=Math.floor(i/60),a=i%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(a,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var n=12*(i.year()-t.year())+(i.month()-t.month()),a=t.clone().add(n,c),s=i-a<0,r=t.clone().add(n+(s?-1:1),c);return+(-(n+(i-a)/(s?a-r:r-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:f,w:o,d:r,D:l,h:s,m:a,s:n,ms:i,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",y={};y[_]=b;var g=function(e){return e instanceof C},T=function e(t,i,n){var a;if(!t)return _;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(a=s),i&&(y[s]=i,a=s);var r=t.split("-");if(!a&&r.length>1)return e(r[0])}else{var o=t.name;y[o]=t,a=o}return!n&&a&&(_=a),a||!n&&_},M=function(e,t){if(g(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new C(i)},$=v;$.l=T,$.i=g,$.w=function(e,t){return M(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function b(e){this.$L=T(e.locale,null,!0),this.parse(e)}var m=b.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if($.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(u);if(n){var a=n[2]-1||0,s=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return $},m.isValid=function(){return!(this.$d.toString()===p)},m.isSame=function(e,t){var i=M(e);return this.startOf(t)<=i&&i<=this.endOf(t)},m.isAfter=function(e,t){return M(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<M(e)},m.$g=function(e,t,i){return $.u(e)?this[t]:this.set(i,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var i=this,d=!!$.u(t)||t,p=$.p(e),u=function(e,t){var n=$.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return d?n:n.endOf(r)},h=function(e,t){return $.w(i.toDate()[e].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},b=this.$W,m=this.$M,v=this.$D,_="set"+(this.$u?"UTC":"");switch(p){case f:return d?u(1,0):u(31,11);case c:return d?u(1,m):u(0,m+1);case o:var y=this.$locale().weekStart||0,g=(b<y?b+7:b)-y;return u(d?v-g:v+(6-g),m);case r:case l:return h(_+"Hours",0);case s:return h(_+"Minutes",1);case a:return h(_+"Seconds",2);case n:return h(_+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var o,d=$.p(e),p="set"+(this.$u?"UTC":""),u=(o={},o[r]=p+"Date",o[l]=p+"Date",o[c]=p+"Month",o[f]=p+"FullYear",o[s]=p+"Hours",o[a]=p+"Minutes",o[n]=p+"Seconds",o[i]=p+"Milliseconds",o)[d],h=d===r?this.$D+(t-this.$W):t;if(d===c||d===f){var b=this.clone().set(l,1);b.$d[u](h),b.init(),this.$d=b.set(l,Math.min(this.$D,b.daysInMonth())).$d}else u&&this.$d[u](h);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[$.p(e)]()},m.add=function(i,d){var l,p=this;i=Number(i);var u=$.p(d),h=function(e){var t=M(p);return $.w(t.date(t.date()+Math.round(e*i)),p)};if(u===c)return this.set(c,this.$M+i);if(u===f)return this.set(f,this.$y+i);if(u===r)return h(1);if(u===o)return h(7);var b=(l={},l[a]=e,l[s]=t,l[n]=1e3,l)[u]||1,m=this.$d.getTime()+i*b;return $.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=$.z(this),s=this.$H,r=this.$m,o=this.$M,c=i.weekdays,d=i.months,f=function(e,i,a,s){return e&&(e[i]||e(t,n))||a[i].slice(0,s)},l=function(e){return $.s(s%12||12,e,"0")},u=i.meridiem||function(e,t,i){var n=e<12?"AM":"PM";return i?n.toLowerCase():n},b={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:$.s(o+1,2,"0"),MMM:f(i.monthsShort,o,d,3),MMMM:f(d,o),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,c,2),ddd:f(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:$.s(s,2,"0"),h:l(1),hh:l(2),a:u(s,r,!0),A:u(s,r,!1),m:String(r),mm:$.s(r,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:a};return n.replace(h,(function(e,t){return t||b[e]||a.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,l,p){var u,h=$.p(l),b=M(i),m=(b.utcOffset()-this.utcOffset())*e,v=this-b,_=$.m(this,b);return _=(u={},u[f]=_/12,u[c]=_,u[d]=_/3,u[o]=(v-m)/6048e5,u[r]=(v-m)/864e5,u[s]=v/t,u[a]=v/e,u[n]=v/1e3,u)[h]||v,p?_:$.a(_)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return y[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),n=T(e,t,!0);return n&&(i.$L=n),i},m.clone=function(){return $.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},b}(),w=C.prototype;return M.prototype=w,[["$ms",i],["$s",n],["$m",a],["$H",s],["$W",r],["$M",c],["$y",f],["$D",l]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),M.extend=function(e,t){return e.$i||(e(t,C,M),e.$i=!0),M},M.locale=T,M.isDayjs=g,M.unix=function(e){return M(1e3*e)},M.en=y[_],M.Ls=y,M.p={},M}()},379:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var s={},r=[],o=0;o<e.length;o++){var c=e[o],d=n.base?c[0]+n.base:c[0],f=s[d]||0,l="".concat(d," ").concat(f);s[d]=f+1;var p=i(l),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var h=a(u,n);n.byIndex=o,t.splice(o,0,{identifier:l,updater:h,references:1})}r.push(l)}return r}function a(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,a){var s=n(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<s.length;r++){var o=i(s[r]);t[o].references--}for(var c=n(e,a),d=0;d<s.length;d++){var f=i(s[d]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}s=c}}},569:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var a=void 0!==i.layer;a&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,a&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0,(()=>{"use strict";const e={BEFOREBEGIN:"beforebegin",AFTERBEGIN:"afterbegin",BEFOREEND:"beforeend",AFTEREND:"afterend"};function t(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.BEFOREEND;if(!(t instanceof g))throw new Error("Can render only components");if(null===i)throw new Error("Container element doesn't exist");i.insertAdjacentElement(n,t.element)}function n(e,t){if(!(e instanceof g&&t instanceof g))throw new Error("Can replace only components");const i=e.element,n=t.element,a=n.parentElement;if(null===a)throw new Error("Parent element doesn't exist");a.replaceChild(i,n)}function a(e){if(null!==e){if(!(e instanceof g))throw new Error("Can remove only components");e.element.remove(),e.removeElement()}}var s=i(379),r=i.n(s),o=i(795),c=i.n(o),d=i(569),f=i.n(d),l=i(565),p=i.n(l),u=i(216),h=i.n(u),b=i(589),m=i.n(b),v=i(10),_={};_.styleTagTransform=m(),_.setAttributes=p(),_.insert=f().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=h(),r()(v.Z,_),v.Z&&v.Z.locals&&v.Z.locals;const y="shake";class g{#e=null;constructor(){if(new.target===g)throw new Error("Can't instantiate AbstractView, only concrete one.")}get element(){return this.#e||(this.#e=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(this.template)),this.#e}get template(){throw new Error("Abstract method not implemented: get template")}removeElement(){this.#e=null}shake(e){this.element.classList.add(y),setTimeout((()=>{this.element.classList.remove(y),e?.()}),600)}}const T=[{id:"443ef666-64c1-4e5d-8292-9598e0a2923d",base_price:5e3,date_from:"2024-03-06T00:28:01.397Z",date_to:"2024-03-07T14:28:01.397Z",destination:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",is_favorite:!1,offers:[],type:"sightseeing"},{id:"26ac5d88-4271-4de7-91a4-cd3fa0ddd0e3",base_price:6676,date_from:"2024-03-07T14:28:01.397Z",date_to:"2024-03-07T20:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!1,offers:["17a37b37-3910-4198-a53b-89c97dbec5c3","b463b134-3032-45c8-8e35-997295123124","b1288346-cb13-4c07-b05b-c59cfdb75879","f308595a-947d-4912-a9b1-ba9cd4e1a0e4"],type:"taxi"},{id:"4d72d717-34fe-4a7a-864f-1c2a916dcb41",base_price:4662,date_from:"2024-03-07T20:28:01.397Z",date_to:"2024-03-09T15:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!0,offers:[],type:"drive"},{id:"392e5f81-c962-4382-8611-9df8549717d2",base_price:1399,date_from:"2024-03-09T15:28:01.397Z",date_to:"2024-03-10T11:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!1,offers:["1c13d7c7-d86d-41c8-b432-e4fb806fa6b5","aa74e8a1-dad5-4052-8cb5-513d2f5e353a","08b4ae88-0ec7-47ee-b3c1-ae651afe33d0"],type:"ship"},{id:"e2319c25-5cf4-4dc6-b14b-310dcf6aff1e",base_price:7320,date_from:"2024-03-10T11:28:01.397Z",date_to:"2024-03-10T19:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!0,offers:["a8c2ffb1-5154-453d-a1bf-fecdd368fa39"],type:"check-in"},{id:"d49b4dc4-3eab-4168-ad4b-2c16ae7ffe7c",base_price:7449,date_from:"2024-03-10T19:28:01.397Z",date_to:"2024-03-11T03:28:01.397Z",destination:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",is_favorite:!0,offers:["c6758844-e150-474d-a6aa-260769ebc7f3","ec5c7908-3238-4dbf-9711-626040df9b44","b9ee1997-9253-497d-8720-2719b53ae121","ffd6bfea-ba8f-478e-8a3c-2fcbefa079f6","a8c2ffb1-5154-453d-a1bf-fecdd368fa39"],type:"check-in"},{id:"0eb1acf7-936a-4de2-9989-f167742182a1",base_price:2547,date_from:"2024-03-11T03:28:01.397Z",date_to:"2024-03-12T11:28:01.397Z",destination:"2d33ec7f-fe16-4cfd-81fe-e5fd63814c09",is_favorite:!0,offers:[],type:"sightseeing"},{id:"0468b6bb-9aa0-4982-abf7-68a9049aa611",base_price:6842,date_from:"2024-03-12T11:28:01.397Z",date_to:"2024-03-13T08:28:01.397Z",destination:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",is_favorite:!0,offers:["ed38d0fa-b01c-46af-bcb1-e9ddde2c1ae8","ef39c023-121a-41e9-9492-d547605b9906"],type:"drive"},{id:"cff0d2c8-4edf-4cb8-8fc4-1598bcf66e14",base_price:2951,date_from:"2024-03-13T08:28:01.397Z",date_to:"2024-03-14T00:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!0,offers:[],type:"bus"},{id:"e46d087c-9d68-4d94-a71c-593ebb9588a7",base_price:5412,date_from:"2024-03-14T00:28:01.397Z",date_to:"2024-03-15T11:28:01.397Z",destination:"2d33ec7f-fe16-4cfd-81fe-e5fd63814c09",is_favorite:!1,offers:[],type:"restaurant"},{id:"ac0879e9-1d52-4505-a01f-d74e8b0861c5",base_price:3124,date_from:"2024-03-15T11:28:01.397Z",date_to:"2024-03-17T01:28:01.397Z",destination:"945b578b-c40d-41ea-a1b3-6a64a8244fea",is_favorite:!0,offers:["29ace3ca-9735-4f51-973e-a00cba530561","de0c270f-4e05-4f79-b4ad-2d941aeca9b4","a3f0543b-d85d-492e-adba-4bf10392c86e","1c13d7c7-d86d-41c8-b432-e4fb806fa6b5","aa74e8a1-dad5-4052-8cb5-513d2f5e353a","08b4ae88-0ec7-47ee-b3c1-ae651afe33d0"],type:"ship"},{id:"7f201388-9fc7-4455-95aa-275f94e00e84",base_price:539,date_from:"2024-03-17T01:28:01.397Z",date_to:"2024-03-18T06:28:01.397Z",destination:"e0840553-931f-4cf5-8a5e-2f2e1574a522",is_favorite:!0,offers:["b463b134-3032-45c8-8e35-997295123124","b1288346-cb13-4c07-b05b-c59cfdb75879","f308595a-947d-4912-a9b1-ba9cd4e1a0e4"],type:"taxi"},{id:"acec14ea-3cbf-4b61-a3c5-836ce7875d9e",base_price:6062,date_from:"2024-03-18T06:28:01.397Z",date_to:"2024-03-19T04:28:01.397Z",destination:"e0840553-931f-4cf5-8a5e-2f2e1574a522",is_favorite:!1,offers:[],type:"sightseeing"},{id:"616883f4-6b1e-40b7-9246-ae678931bbca",base_price:4925,date_from:"2024-03-19T04:28:01.397Z",date_to:"2024-03-20T13:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!1,offers:["aff802f9-3113-4fe2-9914-e00574a1ec40","54785bef-ead0-4b36-9c2b-337caa438db8","83be45ae-34d9-4b8e-95dc-ac72e4af20a6"],type:"flight"},{id:"192b4a61-e9b2-4d0b-b067-4af0fdfa9593",base_price:403,date_from:"2024-03-20T13:28:01.397Z",date_to:"2024-03-21T01:28:01.397Z",destination:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",is_favorite:!1,offers:["d5132df6-d93b-4f4c-bc3e-8599e53ccbe1","aff802f9-3113-4fe2-9914-e00574a1ec40","54785bef-ead0-4b36-9c2b-337caa438db8","83be45ae-34d9-4b8e-95dc-ac72e4af20a6"],type:"flight"},{id:"c15c90b6-3694-4105-9b23-1e51325bce9a",base_price:5926,date_from:"2024-03-21T01:28:01.397Z",date_to:"2024-03-22T14:28:01.397Z",destination:"945b578b-c40d-41ea-a1b3-6a64a8244fea",is_favorite:!1,offers:["72583523-69a9-4668-9a7f-0192fbef6a83","96955675-06d2-40b6-b15a-de6ab73fa2b2"],type:"restaurant"},{id:"7898bcea-73b1-4967-a90a-432fd3d03f68",base_price:6e3,date_from:"2024-03-22T14:28:01.397Z",date_to:"2024-03-23T16:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!1,offers:[],type:"restaurant"},{id:"83425617-4830-4b99-9644-b9fa2c54e1e8",base_price:843,date_from:"2024-03-23T16:28:01.397Z",date_to:"2024-03-24T03:28:01.397Z",destination:"945b578b-c40d-41ea-a1b3-6a64a8244fea",is_favorite:!1,offers:[],type:"train"},{id:"6f898123-9efb-4599-bc06-0533de45256d",base_price:96,date_from:"2024-03-24T03:28:01.397Z",date_to:"2024-03-25T22:28:01.397Z",destination:"2d33ec7f-fe16-4cfd-81fe-e5fd63814c09",is_favorite:!1,offers:["de0c270f-4e05-4f79-b4ad-2d941aeca9b4","a3f0543b-d85d-492e-adba-4bf10392c86e","1c13d7c7-d86d-41c8-b432-e4fb806fa6b5","aa74e8a1-dad5-4052-8cb5-513d2f5e353a","08b4ae88-0ec7-47ee-b3c1-ae651afe33d0"],type:"ship"},{id:"f813ba2d-6553-4b69-9b81-263050caf778",base_price:1070,date_from:"2024-03-25T22:28:01.397Z",date_to:"2024-03-27T02:28:01.397Z",destination:"3cabe659-3e79-4e48-950f-2b52e1592213",is_favorite:!0,offers:["f308595a-947d-4912-a9b1-ba9cd4e1a0e4"],type:"taxi"},{id:"fa1c607c-4a0a-4558-b472-fe2baf6fa071",base_price:3198,date_from:"2024-03-27T02:28:01.397Z",date_to:"2024-03-28T08:28:01.397Z",destination:"2d33ec7f-fe16-4cfd-81fe-e5fd63814c09",is_favorite:!0,offers:["72583523-69a9-4668-9a7f-0192fbef6a83","96955675-06d2-40b6-b15a-de6ab73fa2b2"],type:"restaurant"},{id:"d0cdd7f8-36ca-48d8-bdc1-5a5188b0e847",base_price:7931,date_from:"2024-03-28T08:28:01.397Z",date_to:"2024-03-29T17:28:01.397Z",destination:"2d33ec7f-fe16-4cfd-81fe-e5fd63814c09",is_favorite:!1,offers:[],type:"taxi"},{id:"eb9c5ed6-ffc2-4859-9e91-95b39ba20ea9",base_price:421,date_from:"2024-03-29T17:28:01.397Z",date_to:"2024-03-30T00:28:01.397Z",destination:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",is_favorite:!1,offers:["83be45ae-34d9-4b8e-95dc-ac72e4af20a6"],type:"flight"},{id:"cbc5f954-0a51-481a-a8f6-c54fcca750d5",base_price:1991,date_from:"2024-03-30T00:28:01.397Z",date_to:"2024-03-31T14:28:01.397Z",destination:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",is_favorite:!0,offers:[],type:"check-in"},{id:"6059ee05-56da-4481-9c79-ba48903d7f8e",base_price:1718,date_from:"2024-03-31T14:28:01.397Z",date_to:"2024-04-01T14:28:01.397Z",destination:"e0840553-931f-4cf5-8a5e-2f2e1574a522",is_favorite:!0,offers:["ef39c023-121a-41e9-9492-d547605b9906"],type:"drive"}],M=["taxi","bus","train","ship","drive","flight","check-in","sightseeing","restaurant"],$="by-day",C="by-price",w="by-duration";class P extends g{#t;constructor(e){let{onSortTypeChange:t}=e;super(),this.#t=t,this.element.addEventListener("click",this.#i)}get template(){return`<form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n      <div class="trip-sort__item  trip-sort__item--day">\n        <input id="sort-day" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-day" checked>\n        <label class="trip-sort__btn" for="sort-day" data-sort-type="${$}">Day</label>\n      </div>\n\n      <div class="trip-sort__item  trip-sort__item--event">\n        <input id="sort-event" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-event" disabled>\n        <label class="trip-sort__btn" for="sort-event">Event</label>\n      </div>\n\n      <div class="trip-sort__item  trip-sort__item--time">\n        <input id="sort-time" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-time">\n        <label class="trip-sort__btn" for="sort-time" data-sort-type="${w}">Time</label>\n      </div>\n\n      <div class="trip-sort__item  trip-sort__item--price">\n        <input id="sort-price" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-price">\n        <label class="trip-sort__btn" for="sort-price" data-sort-type="${C}">Price</label>\n      </div>\n\n      <div class="trip-sort__item  trip-sort__item--offer">\n        <input id="sort-offer" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-offer" disabled>\n        <label class="trip-sort__btn" for="sort-offer">Offers</label>\n      </div>\n    </form>`}#i=e=>{"LABEL"===e.target.tagName&&this.#t(e.target.dataset.sortType)}}class D extends g{get template(){return'<ul class="trip-events__list"></ul>'}}class E extends g{get template(){return'<p class="trip-events__msg">\n      Click New Event to create your first point\n    </p>'}}var S=i(484),A=i.n(S);const k="HH:mm",Z="DD/MM/YY HH:mm";function x(e){return e?A()(e).format(k):""}function F(e){return e?A()(e).format(Z):""}function O(e){return e[0].toUpperCase()+e.slice(1)}class j extends g{#n;#a;constructor(e){let{tripPoint:t,idToDestinationMap:i,onRollupClick:n,onFavoriteClick:a}=e;super(),this.#n=t,this.#a=i,this.element.querySelector(".event__rollup-btn").addEventListener("click",(e=>{e.preventDefault(),n()})),this.element.querySelector(".event__favorite-btn").addEventListener("click",(e=>{e.preventDefault(),a()}))}get template(){return function(e,t){const i=(n=e.dateFrom)?A()(n).format("MMM DD"):"";var n;const a=x(e.dateFrom),s=x(e.dateTo),r=function(e,t){const i=A()(e),n=A()(t).diff(i,"m"),a=n/60,s=n%60;let r="";return a>0&&(a<10&&(r+="0"),r+=a,r+="H"),s>0&&(r+=" ",s<10&&(r+="0"),r+=s,r+="M"),r}(e.dateFrom,e.dateTo),o=`${O(e.type)} ${t.get(e.destination).name}`,c=e.isFavorite?"event__favorite-btn--active":"";return`<li class="trip-events__item">\n      <div class="event">\n        <time class="event__date" datetime="${e.dateFrom}">${i}</time>\n        <div class="event__type">\n          <img class="event__type-icon" width="42" height="42" src="img/icons/${e.type}.png" alt="Event type icon">\n        </div>\n        <h3 class="event__title">${o}</h3>\n        <div class="event__schedule">\n          <p class="event__time">\n            <time class="event__start-time" datetime="${e.dateFrom}">${a}</time>\n            &mdash;\n            <time class="event__end-time" datetime="${e.dateTo}">${s}</time>\n          </p>\n          <p class="event__duration">${r}</p>\n        </div>\n        <p class="event__price">\n          &euro;&nbsp;<span class="event__price-value">${e.basePrice}</span>\n        </p>\n        <button class="event__favorite-btn  ${c}" type="button">\n          <span class="visually-hidden">Add to favorite</span>\n          <svg class="event__favorite-icon" width="28" height="28" viewBox="0 0 28 28">\n            <path d="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"/>\n          </svg>\n        </button>\n        <button class="event__rollup-btn" type="button">\n          <span class="visually-hidden">Open event</span>\n        </button>\n      </div>\n    </li>`}(this.#n,this.#a)}}const H={basePrice:0,destination:{description:"",name:"",pictures:[]},dateFrom:"",dateTo:"",isFavorite:!1,offers:[],type:"taxi"};function L(e){return`<div class="event__offer-selector">\n      <input class="event__offer-checkbox  visually-hidden" id="${e.id}" type="checkbox" name="event-offer-luggage" checked>\n      <label class="event__offer-label" for="${e.id}">\n        <span class="event__offer-title">${e.title}</span>\n        &plus;&euro;&nbsp;\n        <span class="event__offer-price">${e.price}</span>\n      </label>\n    </div>`}class B extends g{#n;#a;#s;#r;#o;constructor(e){let{tripPoint:t=H,idToDestinationMap:i,idToOfferMap:n,onRollupClick:a,onFormSubmit:s}=e;super(),this.#n=t,this.#a=i,this.#s=n,this.#r=a,this.#o=s,this.element.querySelector(".event__rollup-btn").addEventListener("click",this.#c),this.element.querySelector("form").addEventListener("submit",this.#d)}get template(){return function(e,t,i){const n=F(e.dateFrom),a=F(e.dateTo),s=t.get(e.destination),r=function(e){if(!e)return"";const t=function(e){let t="";if(!e)return t;for(const i of e)t+=`<img class="event__photo" src="${i.src}" alt="${i.description}">`;return t}(e.pictures);return`<section class="event__section  event__section--destination">\n      <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n      <p class="event__destination-description">${e.description}</p>\n\n      <div class="event__photos-container">\n        <div class="event__photos-tape">\n            ${t}\n        </div>\n      </div>\n    </section>`}(s),o=function(e){if(!e||0===e.length)return"";let t='\n    <section class="event__section  event__section--offers">\n      <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n        <div class="event__available-offers">';for(const i of e)t+=L(i);return t+="</div></section>",t}(e.offers.map((e=>i.get(e)))),c=function(){let e="";for(const t of M)e+=`<div class="event__type-item">\n        <input id="event-type-${t}-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="${t}">\n        <label class="event__type-label  event__type-label--${t}" for="event-type-${t}-1">${O(t)}</label>\n      </div>`;return e}();return`<li class="trip-events__item">\n      <form class="event event--edit" action="#" method="post">\n        <header class="event__header">\n          <div class="event__type-wrapper">\n            <label class="event__type  event__type-btn" for="event-type-toggle-1">\n              <span class="visually-hidden">Choose event type</span>\n              <img class="event__type-icon" width="17" height="17" src="img/icons/${e.type}.png" alt="Event type icon">\n            </label>\n            <input class="event__type-toggle  visually-hidden" id="event-type-toggle-1" type="checkbox">\n\n            <div class="event__type-list">\n              <fieldset class="event__type-group">\n                <legend class="visually-hidden">Event type</legend>\n                ${c}\n              </fieldset>\n            </div>\n          </div>\n\n          <div class="event__field-group  event__field-group--destination">\n            <label class="event__label  event__type-output" for="event-destination-1">\n              ${O(e.type)}\n            </label>\n            <input class="event__input  event__input--destination" id="event-destination-1" type="text" name="event-destination" value="${s.name}" list="destination-list-1">\n            <datalist id="destination-list-1">\n              <option value="Amsterdam"></option>\n              <option value="Geneva"></option>\n              <option value="Chamonix"></option>\n            </datalist>\n          </div>\n\n          <div class="event__field-group  event__field-group--time">\n            <label class="visually-hidden" for="event-start-time-1">From</label>\n            <input class="event__input  event__input--time" id="event-start-time-1" type="text" name="event-start-time" value="${n}">\n            &mdash;\n            <label class="visually-hidden" for="event-end-time-1">To</label>\n            <input class="event__input  event__input--time" id="event-end-time-1" type="text" name="event-end-time" value="${a}">\n          </div>\n\n          <div class="event__field-group  event__field-group--price">\n            <label class="event__label" for="event-price-1">\n              <span class="visually-hidden">Price</span>\n              &euro;\n            </label>\n            <input class="event__input  event__input--price" id="event-price-1" type="text" name="event-price" value="${e.basePrice}">\n          </div>\n\n          <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n          <button class="event__reset-btn" type="reset">Delete</button>\n          <button class="event__rollup-btn" type="button">\n            <span class="visually-hidden">Open event</span>\n          </button>\n        </header>\n        <section class="event__details">\n          ${o}\n          ${r}\n        </section>\n      </form>\n    </li>`}(this.#n,this.#a,this.#s)}#c=e=>{e.preventDefault(),this.#r()};#d=e=>{e.preventDefault(),this.#o()}}const I="DEFAULT",N="EDITING";class R{#f;#l;#p;#u;#h;#n;#a;#s;#b=I;constructor(e){let{tripPointsContainer:t,onDataChange:i,onModeChange:n}=e;this.#f=t,this.#l=i,this.#p=n}init(e,i,s){this.#n=e;const r=this.#u,o=this.#h;this.#a=i,this.#s=s,this.#u=this.#m(),this.#h=new B({tripPoint:e,idToDestinationMap:i,idToOfferMap:s,onRollupClick:this.#r(),onFormSubmit:this.#o()}),r&&o?(this.#b===I&&n(this.#u,r),this.#b===N&&n(this.#h,o),a(r),a(o)):t(this.#u,this.#f)}destroy(){a(this.#u),a(this.#h)}resetView(){this.#b!==I&&this.#v()}#m(){return new j({tripPoint:this.#n,idToDestinationMap:this.#a,onRollupClick:()=>{this.#_(),document.addEventListener("keydown",this.#y)},onFavoriteClick:()=>{this.#l({...this.#n,isFavorite:!this.#n.isFavorite})}})}#o(){return()=>{this.#v(),document.removeEventListener("keydown",this.#y)}}#r(){return()=>{this.#v(),document.removeEventListener("keydown",this.#y)}}#y=e=>{"Escape"===e.key&&(e.preventDefault(),this.#v())};#v(){n(this.#u,this.#h),this.#b=I}#_(){n(this.#h,this.#u),this.#p(),this.#b=N}}function U(e,t){return A()(e.dateFrom).isSame(A()(t.dateFrom))?0:A()(e.dateFrom).isAfter(A()(t.dateFrom))?1:-1}function Y(e,t){return t.basePrice-e.basePrice}function W(e,t){const i=A()(e.dateTo).diff(A()(e.dateFrom),"m");return A()(t.dateTo).diff(A()(t.dateFrom),"m")-i}const q=[{id:"945b578b-c40d-41ea-a1b3-6a64a8244fea",description:"Moscow - middle-eastern paradise",name:"Moscow",pictures:[{src:"https://20.objects.pages.academy/static/destinations/8.jpg",description:"Moscow a perfect place to stay with a family"}]},{id:"bf0e7210-5e56-4483-8a5f-c5dd5a50d618",description:"Milan - a perfect place to stay with a family",name:"Milan",pictures:[{src:"https://20.objects.pages.academy/static/destinations/9.jpg",description:"Milan is a beautiful city"}]},{id:"e0840553-931f-4cf5-8a5e-2f2e1574a522",description:"Amsterdam - a perfect place to stay with a family",name:"Amsterdam",pictures:[{src:"https://20.objects.pages.academy/static/destinations/11.jpg",description:"Amsterdam with a beautiful old town"},{src:"https://20.objects.pages.academy/static/destinations/9.jpg",description:"Amsterdam with a beautiful old town"},{src:"https://20.objects.pages.academy/static/destinations/1.jpg",description:"Amsterdam famous for its crowded street markets with the best street food in Asia"},{src:"https://20.objects.pages.academy/static/destinations/15.jpg",description:"Amsterdam with a beautiful old town"}]},{id:"3cabe659-3e79-4e48-950f-2b52e1592213",description:"Helsinki - is a beautiful city",name:"Helsinki",pictures:[{src:"https://20.objects.pages.academy/static/destinations/13.jpg",description:"Helsinki a perfect place to stay with a family"},{src:"https://20.objects.pages.academy/static/destinations/20.jpg",description:"Helsinki middle-eastern paradise"},{src:"https://20.objects.pages.academy/static/destinations/11.jpg",description:"Helsinki with an embankment of a mighty river as a centre of attraction"}]},{id:"2d33ec7f-fe16-4cfd-81fe-e5fd63814c09",description:"Naples - with a beautiful old town",name:"Naples",pictures:[{src:"https://20.objects.pages.academy/static/destinations/17.jpg",description:"Naples with an embankment of a mighty river as a centre of attraction"},{src:"https://20.objects.pages.academy/static/destinations/6.jpg",description:"Naples middle-eastern paradise"},{src:"https://20.objects.pages.academy/static/destinations/10.jpg",description:"Naples a true asian pearl"}]}],V=[{type:"taxi",offers:[{id:"6e3920c2-9328-474c-a727-c89821f26086",title:"Upgrade to a business class",price:175},{id:"17a37b37-3910-4198-a53b-89c97dbec5c3",title:"Choose the radio station",price:92},{id:"b463b134-3032-45c8-8e35-997295123124",title:"Choose temperature",price:164},{id:"b1288346-cb13-4c07-b05b-c59cfdb75879",title:"Drive quickly, I'm in a hurry",price:83},{id:"f308595a-947d-4912-a9b1-ba9cd4e1a0e4",title:"Drive slowly",price:184}]},{type:"bus",offers:[{id:"7fc8f971-a100-418d-81ea-8cb8ae07250b",title:"Infotainment system",price:86},{id:"d2f1d4b3-f642-4e3f-96d6-5005bc0db337",title:"Order meal",price:133},{id:"f5c9ec88-5c9a-4fd1-91b9-7cec3d0ca42d",title:"Choose seats",price:35}]},{type:"train",offers:[{id:"bceeaa18-791d-428b-8cd0-9643cbdb6703",title:"Book a taxi at the arrival point",price:59},{id:"a1516ada-a546-40ec-ab90-ad9222e89d11",title:"Order a breakfast",price:53},{id:"eeb14672-5e04-41db-87c8-5faa633a5dd7",title:"Wake up at a certain time",price:121}]},{type:"flight",offers:[{id:"a53b0554-271c-496e-bfa1-b367d4f570e6",title:"Choose meal",price:94},{id:"69d8939c-7004-470c-a5f8-b1f5b058a5b1",title:"Choose seats",price:113},{id:"d5132df6-d93b-4f4c-bc3e-8599e53ccbe1",title:"Upgrade to comfort class",price:121},{id:"aff802f9-3113-4fe2-9914-e00574a1ec40",title:"Upgrade to business class",price:131},{id:"54785bef-ead0-4b36-9c2b-337caa438db8",title:"Add luggage",price:77},{id:"83be45ae-34d9-4b8e-95dc-ac72e4af20a6",title:"Business lounge",price:198}]},{type:"check-in",offers:[{id:"c6758844-e150-474d-a6aa-260769ebc7f3",title:"Choose the time of check-in",price:186},{id:"ec5c7908-3238-4dbf-9711-626040df9b44",title:"Choose the time of check-out",price:180},{id:"b9ee1997-9253-497d-8720-2719b53ae121",title:"Add breakfast",price:159},{id:"ffd6bfea-ba8f-478e-8a3c-2fcbefa079f6",title:"Laundry",price:94},{id:"a8c2ffb1-5154-453d-a1bf-fecdd368fa39",title:"Order a meal from the restaurant",price:103}]},{type:"sightseeing",offers:[]},{type:"ship",offers:[{id:"29ace3ca-9735-4f51-973e-a00cba530561",title:"Choose meal",price:193},{id:"de0c270f-4e05-4f79-b4ad-2d941aeca9b4",title:"Choose seats",price:115},{id:"a3f0543b-d85d-492e-adba-4bf10392c86e",title:"Upgrade to comfort class",price:70},{id:"1c13d7c7-d86d-41c8-b432-e4fb806fa6b5",title:"Upgrade to business class",price:48},{id:"aa74e8a1-dad5-4052-8cb5-513d2f5e353a",title:"Add luggage",price:153},{id:"08b4ae88-0ec7-47ee-b3c1-ae651afe33d0",title:"Business lounge",price:118}]},{type:"drive",offers:[{id:"ed38d0fa-b01c-46af-bcb1-e9ddde2c1ae8",title:"With automatic transmission",price:48},{id:"ef39c023-121a-41e9-9492-d547605b9906",title:"With air conditioning",price:78}]},{type:"restaurant",offers:[{id:"72583523-69a9-4668-9a7f-0192fbef6a83",title:"Choose live music",price:66},{id:"96955675-06d2-40b6-b15a-de6ab73fa2b2",title:"Choose VIP area",price:196}]}],z=document.querySelector(".page-header"),G=z.querySelector(".trip-main"),J=z.querySelector(".trip-controls__filters"),X=document.querySelector(".trip-events");t(new class extends g{get template(){return'<section class="trip-main__trip-info  trip-info">\n      <div class="trip-info__main">\n        <h1 class="trip-info__title">Amsterdam &mdash; Chamonix &mdash; Geneva</h1>\n\n        <p class="trip-info__dates">Mar 18&nbsp;&mdash;&nbsp;20</p>\n      </div>\n\n      <p class="trip-info__cost">\n        Total: &euro;&nbsp;<span class="trip-info__cost-value">1230</span>\n      </p>\n    </section>'}},G,e.AFTERBEGIN),t(new class extends g{get template(){return'<form class="trip-filters" action="#" method="get">\n      <div class="trip-filters__filter">\n        <input id="filter-everything" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="everything" checked>\n        <label class="trip-filters__filter-label" for="filter-everything">Everything</label>\n      </div>\n\n      <div class="trip-filters__filter">\n        <input id="filter-future" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="future">\n        <label class="trip-filters__filter-label" for="filter-future">Future</label>\n      </div>\n\n      <div class="trip-filters__filter">\n        <input id="filter-present" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="present">\n        <label class="trip-filters__filter-label" for="filter-present">Present</label>\n      </div>\n\n      <div class="trip-filters__filter">\n        <input id="filter-past" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="past">\n        <label class="trip-filters__filter-label" for="filter-past">Past</label>\n      </div>\n\n      <button class="visually-hidden" type="submit">Accept filter</button>\n    </form>'}},J,e.BEFOREEND);const K=new class{get tripPoints(){const e=[];for(const t of T)e.push(this.#g(t));return e}#g(e){const t={...e,basePrice:e.base_price,dateFrom:e.date_from,dateTo:e.date_to,isFavorite:e.is_favorite};return delete e.base_price,delete e.date_from,delete e.date_to,delete e.is_favorite,t}},Q=new class{get destinations(){return q}},ee=new class{get offers(){const e=[];for(const t of V)e.push(...this.#g(t));return e}#g(e){const t=[],i=e.type;for(const n of e.offers)n.type=i,t.push(n);return t}},te=new class{#T;#M;#$;#C=new D;#w=[];#P=new Map;#D=$;#a=new Map;#s=new Map;constructor(e){let{container:t,tripPointsModel:i,destinationsModel:n,offersModel:a}=e;if(this.#T=t,this.#M=i,n)for(const e of n.destinations)this.#a.set(e.id,e);if(a)for(const e of a.offers)this.#s.set(e.id,e)}init(){this.#w=[...this.#M.tripPoints],0!==this.#w.length?(this.#E(),t(this.#C,this.#T),this.#S()):t(new E,this.#T)}#t=e=>{e&&this.#D!==e&&(this.#A(e),this.#k(),this.#S())};#A(e){switch(e){case $:this.#w.sort(U);break;case C:this.#w.sort(Y);break;case w:this.#w.sort(W)}this.#D=e}#E(){this.#$=new P({onSortTypeChange:this.#t}),t(this.#$,this.#T)}#p=()=>{this.#P.forEach((e=>e.resetView()))};#S(){for(const e of this.#w){const t=new R({tripPointsContainer:this.#C.element,onDataChange:this.#Z,onModeChange:this.#p});t.init(e,this.#a,this.#s),this.#P.set(e.id,t)}}#k(){this.#P.forEach((e=>e.destroy())),this.#P.clear()}#Z=e=>{var t,i;this.#w=(t=this.#w,i=e,t.map((e=>e.id===i.id?i:e))),this.#P.get(e.id).init(e,this.#a,this.#s)}}({container:X,tripPointsModel:K,destinationsModel:Q,offersModel:ee});te.init()})()})();
//# sourceMappingURL=bundle.1052a17b292f130aba89.js.map